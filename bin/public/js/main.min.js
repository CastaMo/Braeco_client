/*! braeco_client 2015-11-20 */
var JSONObj=[{0:{0:{0:{id:125,name:"1",price:2},1:{id:126,name:"2",price:3},2:{id:127,name:"3",price:4},groupid:83,groupname:"233"},dishid:36,dishname:"雪顶冰茶",dishname2:"Snowcap Tea",dishpic:"http://static.brae.co/images/dish/0fjlhjen3o9i52a3rout5ospkc7hawzb.png",defaultprice:12,tag:"212",dc_type:"limit",dc:45},1:{dishid:33,dishname:"柠檬红茶",dishname2:"Lemon Tea",dishpic:"http://static.brae.co/images/dish/76nf7n7cjdelmrp46cok9ii6se0h2ak9.png",defaultprice:12,tag:null,dc_type:"none"},2:{0:{0:{id:137,name:"2",price:2},groupid:88,groupname:"属性组1"},dishid:106,dishname:"23",dishname2:"",dishpic:"http://static.brae.co/images/dish/exvbv462dhmlyj3fed3z0avmlvbaf2qt.png",defaultprice:23,tag:null,dc_type:"none"},3:{0:{0:{id:128,name:"a",price:1},1:{id:129,name:"b",price:2},groupid:84,groupname:"属性组1"},1:{0:{id:130,name:"c",price:1},1:{id:138,name:"",price:1},groupid:85,groupname:"属性组2"},dishid:103,dishname:"哈哈",dishname2:"aa",dishpic:"http://static.brae.co/images/dish/nktebx8d1zwukflj2zsugur34tdkp1kd.png",defaultprice:10,tag:null,dc_type:"none"},4:{dishid:81,dishname:"shfhsh",dishname2:"adgg",dishpic:"http://static.brae.co/images/dish/qq0nbdadq8jskoq0fbf4ko4u3po4ot6e.png",defaultprice:5,tag:null,dc_type:"none"},5:{0:{0:{id:64,name:"1",price:1},groupid:38,groupname:"12"},dishid:31,dishname:"桂圆红枣茶",dishname2:"Longon Dates Tea",dishpic:"http://static.brae.co/images/dish/u5fzmktf1f7o21uo7vx6w210jrhp5kc0.png",defaultprice:11,tag:"热销",dc_type:"half"},categoryid:9,categoryname:"健康茶饮啊啊啊"},{0:{dishid:96,dishname:"喔",dishname2:"23",dishpic:"http://static.brae.co/images/dish/dfptc0sea7n0eudtkl5xh49cd7ci5hgi.png",defaultprice:.01,tag:null,dc_type:"discount",dc:20},1:{0:{0:{id:105,name:"hh",price:0},1:{id:101,name:"啊啊啊啊哈哈",price:999},groupid:68,groupname:"属性组啊噢噢"},1:{0:{id:100,name:"宝宝宝宝宝宝",price:0},groupid:66,groupname:"属性组噢噢属"},dishid:76,dishname:"哈哈哈哈3",dishname2:"212312jjjjj",dishpic:"http://static.brae.co/images/dish/y1ej0mw11pzmk5fnjm5npx4hjeqxl0yk.png",defaultprice:176.34,tag:"好",dc_type:"half"},categoryid:11,categoryname:"店长推荐  "},{0:{dishid:41,dishname:"黑森林蛋糕",dishname2:"Dark Forest Cake",dishpic:"http://static.brae.co/images/dish/9f9u52gqj86e72r56tyn08dc244w3c7c.png",defaultprice:17,tag:"店长推荐",dc_type:"half"},1:{0:{0:{id:83,name:"巧克力",price:1},1:{id:123,name:"蓝莓",price:2},groupid:56,groupname:"属性组1"},dishid:39,dishname:"慕斯蛋糕",dishname2:"Mousse Cake",dishpic:"http://static.brae.co/images/dish/0tljzbtadorhn64jmtt92dualzsypz1q.png",defaultprice:15,tag:"热销",dc_type:"discount",dc:80},2:{dishid:40,dishname:"栗子蛋糕",dishname2:"Chestnut Cake",dishpic:"http://static.brae.co/images/dish/5kir1umk5tlu2wtcdck7nz49vhqqf3ck.png",defaultprice:17,tag:null,dc_type:"sale",dc:2},categoryid:10,categoryname:"蛋糕 你"},{0:{0:{0:{id:39,name:"港式",price:1},1:{id:40,name:"鸳鸯",price:3},2:{id:38,name:"经典",price:18},groupid:18,groupname:"主题"},1:{0:{id:33,name:"冷",price:16},1:{id:34,name:"热",price:19},groupid:16,groupname:"温度"},dishid:29,dishname:"主题奶茶",dishname2:"Theme milk tea",dishpic:"http://static.brae.co/images/dish/bqm3y6xclneemzuncr226hbmohjxcbco.png",defaultprice:13,tag:null,dc_type:"half"},1:{dishid:43,dishname:"经典奶茶",dishname2:"classic millk tea",dishpic:"http://static.brae.co/images/dish/vnncrcp8vkfkkvq8zqdmurjj0snza4e5.png",defaultprice:15,tag:null,dc_type:"none"},2:{dishid:62,dishname:"奶盖茶饮",dishname2:"milk tea",dishpic:"http://static.brae.co/images/dish/v7uvlqdwe0b4c2oofybr0h6ctn8jblv6.png",defaultprice:9,tag:"呢呢呢",dc_type:"half"},categoryid:8,categoryname:"奶 "},{0:{0:{0:{id:27,name:"加冰",price:1},1:{id:26,name:"焦糖",price:2},groupid:13,groupname:"做法"},dishid:25,dishname:"拿铁",dishname2:"Latte",dishpic:"http://static.brae.co/images/dish/juhvz6fyznnajkcjk6t1okrhq2ij7ivq.png",defaultprice:20,tag:"热销",dc_type:"sale",dc:2},1:{0:{0:{id:110,name:"1",price:1},1:{id:109,name:"2",price:2},2:{id:111,name:"3",price:2},groupid:72,groupname:"属性组2"},1:{0:{id:25,name:"热",price:9},1:{id:23,name:"冰",price:15},groupid:12,groupname:"温度"},dishid:23,dishname:"艾晨斯特调",dishname2:"Actions Special Made",dishpic:"http://static.brae.co/images/dish/jp3o0x8xkaxy5y8pfui9hq137a0t4mto.png",defaultprice:13,tag:"hh",dc_type:"sale",dc:1},2:{dishid:27,dishname:"摩卡奇诺",dishname2:"Mochacino",dishpic:"http://static.brae.co/images/dish/pbjyz1lb1uvseigf55fe13p37e9dgd36.png",defaultprice:20,tag:null,dc_type:"none"},categoryid:7,categoryname:"美式咖啡"}],indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;return z=[util.addListener,util.removeListener,util.hasClass,util.addClass,util.removeClass,util.ajax,util.getElementsByClassName,util.isPhone,util.hidePhone,util.query,util.querys,util.remove,util.append,util.prepend,util.toggleClass,util.getObjectURL,util.deepCopy,util.getById],h=z[0],C=z[1],r=z[2],g=z[3],B=z[4],i=z[5],p=z[6],v=z[7],t=z[8],x=z[9],y=z[10],A=z[11],j=z[12],w=z[13],E=z[14],q=z[15],n=z[16],o=z[17],l=b.body.clientWidth,m=["","-webkit-","-moz-","-ms-","-o-"],f=void 0,d=function(){function a(){}var b;return b=x("#Menu-page .category-display-list"),a}(),c=function(){function a(){}var b,c,d,e,f,g;for(c=x(".Activity-information-field"),b=x("#activity-info-img-field",c),b.style.height=.9*l*167/343+"px",g=y("#Activity-container-column li"),e=0,f=g.length;f>e;e++)d=g[e],h(d,"click",function(){return s.pushHashStr("activityInfo")});return a}(),D=function(){function a(a){this.displayUlDom=x(a.displayCSSSelector),this.chooseUlDom=x(a.chooseCSSSelector),this.delay=a.delay,x(a.macroCSSSelector).style.height=a.scale*l+"px",this.init()}var b,c,d,e,f;return c=function(a,b){var c,d,e,f;for(f={},d=0,e=m.length;e>d;d++)c=m[d],f[c+"transform"]="translate("+a+", "+b+")";return f},b=function(a){var c,d;return d=a,d.autoFlag?(c=(d.currentChoose+1)%d.activityNum,d.setCurrentChooseAndTranslate(c)):d.autoFlag=!0,setTimeout(function(){return b(d)},d.delay)},f=function(a,b){return b.autoFlag=!1,b.startX=a.touches[0].clientX,b.startY=a.touches[0].clientY,b.currentX=a.touches[0].clientX,b.currentY=a.touches[0].clientY},e=function(a,b){return b.autoFlag=!1,b.currentX=a.touches[0].clientX,b.currentY=a.touches[0].clientY,a.preventDefault(),a.stopPropagation()},d=function(a,b){var c,d,e,f,g,h,i;return b.autoFlag=!1,e=b.currentX,f=b.currentY,g=b.startX,h=b.startY,Math.abs(f-h)>=Math.abs(e-g)?void 0:(d=b.currentChoose,c=b.activityNum,g>e?i=(d+1)%c:e>g&&(i=(d-1+c)%c),b.setCurrentChooseAndTranslate(i))},a.prototype.init=function(){return this.initDisplay(),this.initChoose(),this.initAutoRotate(),this.initTouchEvent()},a.prototype.initDisplay=function(){var a,b,c,d;for(this.displayContainerDom=this.displayUlDom.parentNode,this.displayContainerDom.style.overflow="auto",this.allDisplayDom=y("li",this.displayUlDom),d=this.allDisplayDom,b=0,c=d.length;c>b;b++)a=d[b],a.style.width=l+"px";return this.activityNum=this.allDisplayDom.length,this.displayUlDom.style.width=l*this.activityNum+"px"},a.prototype.initChoose=function(){var a,b,c,d,e,f,g;for(this.chooseUlDom.parentNode.style.overflow="auto",g=this,this.allChooseDom=y("li",this.chooseUlDom),this.currentChoose=0,e=this.allChooseDom,f=[],b=c=0,d=e.length;d>c;b=++c)a=e[b],f.push(h(a,"click",function(a){return function(){return g.autoFlag=!1,g.setCurrentChooseAndTranslate(a)}}(b)));return f},a.prototype.initAutoRotate=function(){var a;return a=this,this.autoFlag=!0,setTimeout(function(){return b(a)},a.delay)},a.prototype.initTouchEvent=function(){var a;return a=this,h(this.displayContainerDom,"touchstart",function(b){return f(b,a)}),h(this.displayContainerDom,"touchmove",function(b){return e(b,a)}),h(this.displayContainerDom,"touchend",function(b){return d(b,a)})},a.prototype.setCurrentChoose=function(a){return this.allChooseDom[this.currentChoose].className="inactive",this.allChooseDom[a].className="active",this.currentChoose=a},a.prototype.setCurrentChooseAndTranslate=function(a){var b,d,e,f;if(!(0>a||a>=this.activityNum||a===this.currentChoose)){e=-1*a,b=c(e*l+"px",0);for(d in b)f=b[d],this.displayUlDom.style[d]=f;return this.setCurrentChoose(a)}},a}(),s=function(){var b,c,d,e,f,i,j,k,l,m,n,p,q,r,s,t,u,v,w,z,A,C,D,E,F,G,H,I;return b=function(){var a,b,c,d;return b="",a=y("#nav-field .bottom-field div"),d=function(){var b,c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)b=a[d],c=b.id,b.className=c+"-unchecked",f.push(D());return f},c=function(a){return b=a,d(),o(a).className=a+"-checked",H(a+"-page")},{bottomTouchEventTrigger:c,uncheckAllForBottomAndHideAllPage:d}}(),c=function(){var a;return a=x("#Menu-page #Menu-acitvity-column"),h(a,"click",function(){return C("-Activity")})}(),k=y(".main-page"),i=y(".main-home-page"),e=y(".main-detail-page"),d=x(".Activity-information-field"),l=["activityInfo"],w={Activity:["activityInfo"]},j=["Menu-page","Already-page","Individual-page"],f=["Book-page","Activity-page"],s=a.location,n={Menu:{push:function(){return b.bottomTouchEventTrigger("Menu")},pop:b.uncheckAllForBottomAndHideAllPage,title:"餐牌"},Already:{push:function(){return b.bottomTouchEventTrigger("Already")},pop:b.uncheckAllForBottomAndHideAllPage,title:"已点订单"},Individual:{push:function(){return b.bottomTouchEventTrigger("Individual")},pop:b.uncheckAllForBottomAndHideAllPage,title:"个人信息"},Book:{push:function(){return H("Book-page")},pop:D},Activity:{push:function(){return H("Activity-page")},pop:D},activityInfo:{push:function(){return I("activityInfo","Activity",d)},pop:function(){return E(d)}},x:{push:function(){return setTimeout(function(){return F("x")},0)},pop:function(){return setTimeout(function(){return F("x")},0)}}},h(a,"popstate",function(){return u(m())}),A=util.query("title"),v=s.hash.replace("#",""),H=function(a){return D(),indexOf.call(j,a)>=0?z("brae-home-page"):indexOf.call(f,a)>=0&&z("brae-detail-page"),z(a),setTimeout("scrollTo(0, 0)",0)},I=function(a,b,c){return indexOf.call(w[b],a)>=0?B(c,"hide-right"):void 0},E=function(a){return g(a,"hide-right")},r=function(){var a,b,c,d;for(d=[],b=0,c=k.length;c>b;b++)a=k[b],d.push(g(a,"hide"));return d},q=function(){var a,b,c,d;for(d=[],b=0,c=i.length;c>b;b++)a=i[b],d.push(g(a,"hide"));return d},p=function(){var a,b,c,d;for(d=[],b=0,c=e.length;c>b;b++)a=e[b],d.push(g(a,"hide"));return d},z=function(a){return B(o(""+a),"hide")},D=function(){return r(),q(),p()},m=function(){return s.hash.replace("#","")},t=function(a){return A.innerHTML=a},u=function(a){var b,c,d,e,f,g,h,i,j,k,m,o,p,q,r,s,t,u,x,y,z,A;if(g=a.split("-"),!(g.length<=1&&""===g[0])){if(t=v.split("-"),g.splice(0,1),t.splice(0,1),m=g[g.length-1],a===v){for(i=0,o=g.length;o>i;i++)f=g[i],f&&n[f]&&"function"==typeof(b=n[f]).push&&b.push();return void("-Individual-Login"===a&&setTimeout(back,0))}for(A={},j=0,p=t.length;p>j;j++)f=t[j],f&&(A[f]=1);for(k=0,q=g.length;q>k;k++)f=g[k],f&&(A[f]?A[f]++:A[f]=1);for(h=r=u=t.length-1;0>=u?0>=r:r>=0;h=0>=u?++r:--r)t[h]&&n[t[h]]&&1===A[t[h]]&&"function"==typeof(c=n[t[h]]).pop&&c.pop();for(h=s=0,x=g.length-1;x>=0?x>=s:s>=x;h=x>=0?++s:--s)if(g[h]&&n[g[h]]&&1===A[g[h]]){if(y=t[h],indexOf.call(l,y)>=0){z=t[h],indexOf.call(w[t[h-1]],z)>=0&&"function"==typeof(d=n[g[h]]).push&&d.push();continue}"function"==typeof(e=n[g[h]]).push&&e.push()}return v=a}},G=function(a){return s.hash=v+"-"+a},F=function(a){return s.hash=v.replace("-"+a,"")},C=function(a){return s.hash=a},{ahead:function(){return history.go(1)},back:function(){return history.go(-1)},refresh:function(){return s.reload()},pushHashStr:G,popHashStr:F,hashJump:C}}(),e=function(){var c,d;return d=a.localStorage,c=b.documentElement,d||(c.type.behavior="url(#default#userData)"),{set:function(a,b,e){return d?d.setItem(a,b,e):(c.setAttribute(a,value),c.save(e||"default"))},get:function(a,b){return d?d.getItem(a,b):(c.load(b||"default"),c.getAttribute(a)||"")},rm:function(a,b){return d?d.removeItem(a,b):(b=b||"default",c.load(b),c.removeAttribute(a),c.save(b))},clear:function(){return d?d.clear():c.expires=-1}}}(),k=function(a){var b,c;return b=this,"undefined"!=typeof wx?(c=!1,wx.config({debug:!1,appId:""+a.appid,timestamp:a.timestamp,nonceStr:""+a.noncestr,signature:""+a.signature,jsApiList:["chooseWXPay"]}),wx.ready(function(){return c?void 0:wx.chooseWXPay({timestamp:a.timestamp,nonceStr:""+a.noncestr,"package":""+a["package"],signType:"MD5",paySign:""+a.signMD,success:function(b){return"function"==typeof a.always&&a.always(),"chooseWXPay:ok"===b.errMsg?(u("success"),"function"==typeof a.callback?a.callback():void 0):u("fail",error("wx_result_fail",b.errMsg))},cancel:function(b){return"function"==typeof a.always&&a.always(),u("cancel")},fail:function(b){return"function"==typeof a.always&&a.always(),u("fail",error("wx_config_fail",b.errMsg))}})}),wx.error(function(b){return"function"==typeof a.always&&a.always(),c=!0,u("fail",error("wx_config_error",b.errMsg))})):void 0},u=function(a,b){return"function"==typeof this._resultCallback?("undefined"==typeof b&&(b=this._error()),this._resultCallback(a,b)):void 0},a.onload=function(){return""===location.hash&&s.hashJump("-Menu-x"),new D({displayCSSSelector:"#Menu-page .activity-display-list",chooseCSSSelector:"#Menu-page .choose-dot-list",macroCSSSelector:"#Menu-page #Menu-acitvity-column",scale:110/377,delay:3e3}),new D({displayCSSSelector:"#Activity-page .header-display-list",chooseCSSSelector:"#Activity-page .choose-dot-list",macroCSSSelector:"#Activity-page #Activity-header-column",scale:200/375,delay:3e3})}}(window,document);