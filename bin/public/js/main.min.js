/*! braeco_client 2015-11-21 */
var JSONObj=[{0:{0:{0:{id:125,name:"1",price:2},1:{id:126,name:"2",price:3},2:{id:127,name:"3",price:4},groupid:83,groupname:"233"},dishid:36,dishname:"雪顶冰茶",dishname2:"Snowcap Tea",dishpic:"http://static.brae.co/images/dish/0fjlhjen3o9i52a3rout5ospkc7hawzb.png",defaultprice:12,tag:"212",dc_type:"limit",dc:45},1:{dishid:33,dishname:"柠檬红茶",dishname2:"Lemon Tea",dishpic:"http://static.brae.co/images/dish/76nf7n7cjdelmrp46cok9ii6se0h2ak9.png",defaultprice:12,tag:null,dc_type:"none"},2:{0:{0:{id:137,name:"2",price:2},groupid:88,groupname:"属性组1"},dishid:106,dishname:"23",dishname2:"",dishpic:"http://static.brae.co/images/dish/exvbv462dhmlyj3fed3z0avmlvbaf2qt.png",defaultprice:23,tag:null,dc_type:"none"},3:{0:{0:{id:128,name:"a",price:1},1:{id:129,name:"b",price:2},groupid:84,groupname:"属性组1"},1:{0:{id:130,name:"c",price:1},1:{id:138,name:"",price:1},groupid:85,groupname:"属性组2"},dishid:103,dishname:"哈哈",dishname2:"aa",dishpic:"http://static.brae.co/images/dish/nktebx8d1zwukflj2zsugur34tdkp1kd.png",defaultprice:10,tag:null,dc_type:"none"},4:{dishid:81,dishname:"shfhsh",dishname2:"adgg",dishpic:"http://static.brae.co/images/dish/qq0nbdadq8jskoq0fbf4ko4u3po4ot6e.png",defaultprice:5,tag:null,dc_type:"none"},5:{0:{0:{id:64,name:"1",price:1},groupid:38,groupname:"12"},dishid:31,dishname:"桂圆红枣茶",dishname2:"Longon Dates Tea",dishpic:"http://static.brae.co/images/dish/u5fzmktf1f7o21uo7vx6w210jrhp5kc0.png",defaultprice:11,tag:"热销",dc_type:"half"},categoryid:9,categoryname:"健康茶饮啊啊啊"},{0:{dishid:96,dishname:"喔",dishname2:"23",dishpic:"http://static.brae.co/images/dish/dfptc0sea7n0eudtkl5xh49cd7ci5hgi.png",defaultprice:.01,tag:null,dc_type:"discount",dc:20},1:{0:{0:{id:105,name:"hh",price:0},1:{id:101,name:"啊啊啊啊哈哈",price:999},groupid:68,groupname:"属性组啊噢噢"},1:{0:{id:100,name:"宝宝宝宝宝宝",price:0},groupid:66,groupname:"属性组噢噢属"},dishid:76,dishname:"哈哈哈哈3",dishname2:"212312jjjjj",dishpic:"http://static.brae.co/images/dish/y1ej0mw11pzmk5fnjm5npx4hjeqxl0yk.png",defaultprice:176.34,tag:"好",dc_type:"half"},categoryid:11,categoryname:"店长推荐  "},{0:{dishid:41,dishname:"黑森林蛋糕",dishname2:"Dark Forest Cake",dishpic:"http://static.brae.co/images/dish/9f9u52gqj86e72r56tyn08dc244w3c7c.png",defaultprice:17,tag:"店长推荐",dc_type:"half"},1:{0:{0:{id:83,name:"巧克力",price:1},1:{id:123,name:"蓝莓",price:2},groupid:56,groupname:"属性组1"},dishid:39,dishname:"慕斯蛋糕",dishname2:"Mousse Cake",dishpic:"http://static.brae.co/images/dish/0tljzbtadorhn64jmtt92dualzsypz1q.png",defaultprice:15,tag:"热销",dc_type:"discount",dc:80},2:{dishid:40,dishname:"栗子蛋糕",dishname2:"Chestnut Cake",dishpic:"http://static.brae.co/images/dish/5kir1umk5tlu2wtcdck7nz49vhqqf3ck.png",defaultprice:17,tag:null,dc_type:"sale",dc:2},categoryid:10,categoryname:"蛋糕 你"},{0:{0:{0:{id:39,name:"港式",price:1},1:{id:40,name:"鸳鸯",price:3},2:{id:38,name:"经典",price:18},groupid:18,groupname:"主题"},1:{0:{id:33,name:"冷",price:16},1:{id:34,name:"热",price:19},groupid:16,groupname:"温度"},dishid:29,dishname:"主题奶茶",dishname2:"Theme milk tea",dishpic:"http://static.brae.co/images/dish/bqm3y6xclneemzuncr226hbmohjxcbco.png",defaultprice:13,tag:null,dc_type:"half"},1:{dishid:43,dishname:"经典奶茶",dishname2:"classic millk tea",dishpic:"http://static.brae.co/images/dish/vnncrcp8vkfkkvq8zqdmurjj0snza4e5.png",defaultprice:15,tag:null,dc_type:"none"},2:{dishid:62,dishname:"奶盖茶饮",dishname2:"milk tea",dishpic:"http://static.brae.co/images/dish/v7uvlqdwe0b4c2oofybr0h6ctn8jblv6.png",defaultprice:9,tag:"呢呢呢",dc_type:"half"},categoryid:8,categoryname:"奶 "},{0:{0:{0:{id:27,name:"加冰",price:1},1:{id:26,name:"焦糖",price:2},groupid:13,groupname:"做法"},dishid:25,dishname:"拿铁",dishname2:"Latte",dishpic:"http://static.brae.co/images/dish/juhvz6fyznnajkcjk6t1okrhq2ij7ivq.png",defaultprice:20,tag:"热销",dc_type:"sale",dc:2},1:{0:{0:{id:110,name:"1",price:1},1:{id:109,name:"2",price:2},2:{id:111,name:"3",price:2},groupid:72,groupname:"属性组2"},1:{0:{id:25,name:"热",price:9},1:{id:23,name:"冰",price:15},groupid:12,groupname:"温度"},dishid:23,dishname:"艾晨斯特调",dishname2:"Actions Special Made",dishpic:"http://static.brae.co/images/dish/jp3o0x8xkaxy5y8pfui9hq137a0t4mto.png",defaultprice:13,tag:"hh",dc_type:"sale",dc:1},2:{dishid:27,dishname:"摩卡奇诺",dishname2:"Mochacino",dishpic:"http://static.brae.co/images/dish/pbjyz1lb1uvseigf55fe13p37e9dgd36.png",defaultprice:20,tag:null,dc_type:"none"},categoryid:7,categoryname:"美式咖啡"}],indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;return B=[util.addListener,util.removeListener,util.hasClass,util.addClass,util.removeClass,util.ajax,util.getElementsByClassName,util.isPhone,util.hidePhone,util.query,util.querys,util.remove,util.append,util.prepend,util.toggleClass,util.getObjectURL,util.deepCopy,util.getById],i=B[0],E=B[1],t=B[2],h=B[3],D=B[4],j=B[5],r=B[6],x=B[7],v=B[8],z=B[9],A=B[10],C=B[11],k=B[12],y=B[13],G=B[14],s=B[15],o=B[16],q=B[17],m=b.body.clientWidth,n=["","-webkit-","-moz-","-ms-","-o-"],g=void 0,d=function(){function a(){}var b;return b=z("#Menu-page .category-display-list"),a}(),c=function(){function a(){}var b,c,d,e,f,g;for(c=z(".Activity-information-field"),b=z("#activity-info-img-field",c),b.style.height=.9*m*167/343+"px",g=A("#Activity-container-column li"),e=0,f=g.length;f>e;e++)d=g[e],i(d,"click",function(){return u.pushHashStr("activityInfo")});return a}(),F=function(){function a(a){var b,c,d,e;for(this.displayUlDom=z(a.displayCSSSelector),this.chooseUlDom=z(a.chooseCSSSelector),this.delay=a.delay,e=A("img",this.displayUlDom),c=0,d=e.length;d>c;c++)b=e[c],b.style.height=a.scale*m+"px";this.init()}var b,c,d,e,f;return c=function(a,b){var c,d,e,f;for(f={},d=0,e=n.length;e>d;d++)c=n[d],f[c+"transform"]="translate("+a+", "+b+")";return f},b=function(a){var c,d;return d=a,d.autoFlag?(c=(d.currentChoose+1)%d.activityNum,d.setCurrentChooseAndTranslate(c)):d.autoFlag=!0,setTimeout(function(){return b(d)},d.delay)},f=function(a,b){return b.autoFlag=!1,b.startX=a.touches[0].clientX,b.startY=a.touches[0].clientY,b.currentX=a.touches[0].clientX,b.currentY=a.touches[0].clientY},e=function(a,b){return b.autoFlag=!1,b.currentX=a.touches[0].clientX,b.currentY=a.touches[0].clientY,a.preventDefault(),a.stopPropagation()},d=function(a,b){var c,d,e,f,g,h,i;return b.autoFlag=!1,e=b.currentX,f=b.currentY,g=b.startX,h=b.startY,Math.abs(f-h)>=Math.abs(e-g)?void 0:(d=b.currentChoose,c=b.activityNum,g>e?i=(d+1)%c:e>g&&(i=(d-1+c)%c),b.setCurrentChooseAndTranslate(i))},a.prototype.init=function(){return this.initDisplay(),this.initChoose(),this.initAutoRotate(),this.initTouchEvent()},a.prototype.initDisplay=function(){var a,b,c,d;for(this.displayContainerDom=this.displayUlDom.parentNode,this.displayContainerDom.style.overflowX="auto",this.allDisplayDom=A("li",this.displayUlDom),d=this.allDisplayDom,b=0,c=d.length;c>b;b++)a=d[b],a.style.width=m+"px";return this.activityNum=this.allDisplayDom.length,this.displayUlDom.style.width=m*this.activityNum+"px"},a.prototype.initChoose=function(){var a,b,c,d,e,f,g;for(this.chooseUlDom.parentNode.style.overflow="hidden",g=this,this.allChooseDom=A("li",this.chooseUlDom),this.currentChoose=0,e=this.allChooseDom,f=[],b=c=0,d=e.length;d>c;b=++c)a=e[b],f.push(i(a,"click",function(a){return function(b){return b.preventDefault(),b.stopPropagation(),g.autoFlag=!1,g.setCurrentChooseAndTranslate(a)}}(b)));return f},a.prototype.initAutoRotate=function(){var a;return a=this,this.autoFlag=!0,setTimeout(function(){return b(a)},a.delay)},a.prototype.initTouchEvent=function(){var a;return a=this,i(this.displayContainerDom,"touchstart",function(b){return f(b,a)}),i(this.displayContainerDom,"touchmove",function(b){return e(b,a)}),i(this.displayContainerDom,"touchend",function(b){return d(b,a)})},a.prototype.setCurrentChoose=function(a){return this.allChooseDom[this.currentChoose].className="inactive",this.allChooseDom[a].className="active",this.currentChoose=a},a.prototype.setCurrentChooseAndTranslate=function(a){var b,d,e,f;if(!(0>a||a>=this.activityNum||a===this.currentChoose)){e=-1*a,b=c(e*m+"px",0);for(d in b)f=b[d],this.displayUlDom.style[d]=f;return this.setCurrentChoose(a)}},a}(),f=function(){var a;return a=q("Recharge-func"),i(a,"click",function(){return u.pushHashStr("Recharge")})}(),u=function(){var b,c,d,e,f,g,j,k,l,m,n,o,p,r,s,t,u,v,w,x,y,B,C,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;return b=function(){var a,b,c,d;return b="",a=A("#nav-field .bottom-field div"),d=function(){var b,c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)b=a[d],c=b.id,b.className=c+"-unchecked",f.push(C());return f},c=function(a){return b=a,d(),q(a).className=a+"-checked",Q(a+"-page")},{bottomTouchEventTrigger:c,uncheckAllForBottomAnd_hideAllMain:d}}(),c=function(){var a;return a=z("#Menu-page .activity-wrapper"),i(a,"click",function(){return T("-Activity")})}(),t=q("#extra"),n=A(".main-page"),o=A(".main-home-page"),l=A(".main-detail-page"),g=A(".extra-page"),j=A(".extra-form-page"),e=A(".extra-content-page"),d=z(".Activity-information-field"),r=["activityInfo"],N={Activity:["activityInfo"]},p=["Menu-page","Already-page","Individual-page"],m=["Book-page","Activity-page"],k=["login-page","book-choose-page","remark-for-trolley-page","alert-page","confirm-page"],f=["Recharge-page","Confirm-pay-page"],J=a.location,v={Menu:{push:function(){return b.bottomTouchEventTrigger("Menu")},pop:b.uncheckAllForBottomAnd_hideAllMain,title:"餐牌"},Already:{push:function(){return b.bottomTouchEventTrigger("Already")},pop:b.uncheckAllForBottomAnd_hideAllMain,title:"已点订单"},Individual:{push:function(){return b.bottomTouchEventTrigger("Individual")},pop:b.uncheckAllForBottomAnd_hideAllMain,title:"个人信息"},Book:{push:function(){return Q("Book-page")},pop:C},Activity:{push:function(){return Q("Activity-page")},pop:C},activityInfo:{push:function(){return R("activityInfo","Activity",d)},pop:function(){return H(d)}},Recharge:{push:function(){return P("Recharge-page")},pop:function(){return w(!0)}},x:{push:function(){return setTimeout(function(){return U("x")},0)},pop:function(){return setTimeout(function(){return U("x")},0)}}},i(a,"popstate",function(){return L(u())}),S=util.query("title"),M=J.hash.replace("#",""),P=function(a){return w(),O("extra"),indexOf.call(f,a)>=0?(O("brae-payment-page"),setTimeout(function(){return s(a,"hide-right")},0)):indexOf.call(k,a)>=0?O("brae-form-page"):void 0},B=function(){var a,b,c,d;for(d=[],b=0,c=g.length;c>b;b++)a=g[b],d.push(h(a,"hide"));return d},y=function(){var a,b,c,d;for(d=[],b=0,c=j.length;c>b;b++)a=j[b],d.push(h(a,"hide"));return d},x=function(){var a,b,c,d;for(d=[],b=0,c=e.length;c>b;b++)a=e[b],d.push(h(a,"hide-right"));return d},w=function(a){return y(),x(),a?setTimeout(function(){return B(),I("extra")},400):(B(),I("extra"))},Q=function(a){return C(),indexOf.call(p,a)>=0?O("brae-home-page"):indexOf.call(m,a)>=0&&O("brae-detail-page"),O(a),setTimeout("scrollTo(0, 0)",0)},R=function(a,b,c){return indexOf.call(N[b],a)>=0?D(c,"hide-right"):void 0},H=function(a){return h(a,"hide-right")},G=function(){var a,b,c,d;for(d=[],b=0,c=n.length;c>b;b++)a=n[b],d.push(h(a,"hide"));return d},F=function(){var a,b,c,d;for(d=[],b=0,c=o.length;c>b;b++)a=o[b],d.push(h(a,"hide"));return d},E=function(){var a,b,c,d;for(d=[],b=0,c=l.length;c>b;b++)a=l[b],d.push(h(a,"hide"));return d},C=function(){return F(),E(),G()},O=function(a){return D(q(a),"hide")},s=function(a,b){return D(q(a),b)},I=function(a,b){var c;return c=q(a),b?h(c,b):h(c,"hide")},u=function(){return J.hash.replace("#","")},K=function(a){return S.innerHTML=a},L=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,s,t,u,w,x,y;if(g=a.split("-"),!(g.length<=1&&""===g[0])){if(s=M.split("-"),g.splice(0,1),s.splice(0,1),l=g[g.length-1],a===M){for(i=0,m=g.length;m>i;i++)f=g[i],f&&v[f]&&"function"==typeof(b=v[f]).push&&b.push();return void("-Individual-Login"===a&&setTimeout(back,0))}for(y={},j=0,n=s.length;n>j;j++)f=s[j],f&&(y[f]=1);for(k=0,o=g.length;o>k;k++)f=g[k],f&&(y[f]?y[f]++:y[f]=1);for(h=p=t=s.length-1;0>=t?0>=p:p>=0;h=0>=t?++p:--p)s[h]&&v[s[h]]&&1===y[s[h]]&&"function"==typeof(c=v[s[h]]).pop&&c.pop();for(h=q=0,u=g.length-1;u>=0?u>=q:q>=u;h=u>=0?++q:--q)if(g[h]&&v[g[h]]&&1===y[g[h]]){if(w=s[h],indexOf.call(r,w)>=0){x=s[h],indexOf.call(N[s[h-1]],x)>=0&&"function"==typeof(d=v[g[h]]).push&&d.push();continue}"function"==typeof(e=v[g[h]]).push&&e.push()}return M=a}},V=function(a){return J.hash=M+"-"+a},U=function(a){return J.hash=M.replace("-"+a,"")},T=function(a){return J.hash=a},{ahead:function(){return history.go(1)},back:function(){return history.go(-1)},refresh:function(){return J.reload()},pushHashStr:V,popHashStr:U,hashJump:T,HomeBottom:b,_switchExtraPage:P}}(),p=function(){var a;return a=q("extra")}(),e=function(){var c,d;return d=a.localStorage,c=b.documentElement,d||(c.type.behavior="url(#default#userData)"),{set:function(a,b,e){return d?d.setItem(a,b,e):(c.setAttribute(a,value),c.save(e||"default"))},get:function(a,b){return d?d.getItem(a,b):(c.load(b||"default"),c.getAttribute(a)||"")},rm:function(a,b){return d?d.removeItem(a,b):(b=b||"default",c.load(b),c.removeAttribute(a),c.save(b))},clear:function(){return d?d.clear():c.expires=-1}}}(),l=function(a){var b,c;return b=this,"undefined"!=typeof wx?(c=!1,wx.config({debug:!1,appId:""+a.appid,timestamp:a.timestamp,nonceStr:""+a.noncestr,signature:""+a.signature,jsApiList:["chooseWXPay"]}),wx.ready(function(){return c?void 0:wx.chooseWXPay({timestamp:a.timestamp,nonceStr:""+a.noncestr,"package":""+a["package"],signType:"MD5",paySign:""+a.signMD,success:function(b){return"function"==typeof a.always&&a.always(),"chooseWXPay:ok"===b.errMsg?(w("success"),"function"==typeof a.callback?a.callback():void 0):w("fail",error("wx_result_fail",b.errMsg))},cancel:function(b){return"function"==typeof a.always&&a.always(),w("cancel")},fail:function(b){return"function"==typeof a.always&&a.always(),w("fail",error("wx_config_fail",b.errMsg))}})}),wx.error(function(b){return"function"==typeof a.always&&a.always(),c=!0,w("fail",error("wx_config_error",b.errMsg))})):void 0},w=function(a,b){return"function"==typeof this._resultCallback?("undefined"==typeof b&&(b=this._error()),this._resultCallback(a,b)):void 0},a.onload=function(){return""===location.hash&&u.hashJump("-Menu-x"),new F({displayCSSSelector:"#Menu-page .activity-display-list",chooseCSSSelector:"#Menu-page .choose-dot-list",scale:110/377,delay:3e3}),new F({displayCSSSelector:"#Activity-page .header-display-list",chooseCSSSelector:"#Activity-page .choose-dot-list",scale:200/375,delay:3e3})}}(window,document);