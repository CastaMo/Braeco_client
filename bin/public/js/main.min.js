/*! braeco_client 2015-11-22 */
var JSONObj=[{0:{0:{0:{id:125,name:"1",price:2},1:{id:126,name:"2",price:3},2:{id:127,name:"3",price:4},groupid:83,groupname:"233"},dishid:36,dishname:"雪顶冰茶",dishname2:"Snowcap Tea",dishpic:"http://static.brae.co/images/dish/0fjlhjen3o9i52a3rout5ospkc7hawzb.png",defaultprice:12,tag:"212",dc_type:"limit",dc:45},1:{dishid:33,dishname:"柠檬红茶",dishname2:"Lemon Tea",dishpic:"http://static.brae.co/images/dish/76nf7n7cjdelmrp46cok9ii6se0h2ak9.png",defaultprice:12,tag:null,dc_type:"none"},2:{0:{0:{id:137,name:"2",price:2},groupid:88,groupname:"属性组1"},dishid:106,dishname:"23",dishname2:"",dishpic:"http://static.brae.co/images/dish/exvbv462dhmlyj3fed3z0avmlvbaf2qt.png",defaultprice:23,tag:null,dc_type:"none"},3:{0:{0:{id:128,name:"a",price:1},1:{id:129,name:"b",price:2},groupid:84,groupname:"属性组1"},1:{0:{id:130,name:"c",price:1},1:{id:138,name:"",price:1},groupid:85,groupname:"属性组2"},dishid:103,dishname:"哈哈",dishname2:"aa",dishpic:"http://static.brae.co/images/dish/nktebx8d1zwukflj2zsugur34tdkp1kd.png",defaultprice:10,tag:null,dc_type:"none"},4:{dishid:81,dishname:"shfhsh",dishname2:"adgg",dishpic:"http://static.brae.co/images/dish/qq0nbdadq8jskoq0fbf4ko4u3po4ot6e.png",defaultprice:5,tag:null,dc_type:"none"},5:{0:{0:{id:64,name:"1",price:1},groupid:38,groupname:"12"},dishid:31,dishname:"桂圆红枣茶",dishname2:"Longon Dates Tea",dishpic:"http://static.brae.co/images/dish/u5fzmktf1f7o21uo7vx6w210jrhp5kc0.png",defaultprice:11,tag:"热销",dc_type:"half"},categoryid:9,categoryname:"健康茶饮啊啊啊"},{0:{dishid:96,dishname:"喔",dishname2:"23",dishpic:"http://static.brae.co/images/dish/dfptc0sea7n0eudtkl5xh49cd7ci5hgi.png",defaultprice:.01,tag:null,dc_type:"discount",dc:20},1:{0:{0:{id:105,name:"hh",price:0},1:{id:101,name:"啊啊啊啊哈哈",price:999},groupid:68,groupname:"属性组啊噢噢"},1:{0:{id:100,name:"宝宝宝宝宝宝",price:0},groupid:66,groupname:"属性组噢噢属"},dishid:76,dishname:"哈哈哈哈3",dishname2:"212312jjjjj",dishpic:"http://static.brae.co/images/dish/y1ej0mw11pzmk5fnjm5npx4hjeqxl0yk.png",defaultprice:176.34,tag:"好",dc_type:"half"},categoryid:11,categoryname:"店长推荐  "},{0:{dishid:41,dishname:"黑森林蛋糕",dishname2:"Dark Forest Cake",dishpic:"http://static.brae.co/images/dish/9f9u52gqj86e72r56tyn08dc244w3c7c.png",defaultprice:17,tag:"店长推荐",dc_type:"half"},1:{0:{0:{id:83,name:"巧克力",price:1},1:{id:123,name:"蓝莓",price:2},groupid:56,groupname:"属性组1"},dishid:39,dishname:"慕斯蛋糕",dishname2:"Mousse Cake",dishpic:"http://static.brae.co/images/dish/0tljzbtadorhn64jmtt92dualzsypz1q.png",defaultprice:15,tag:"热销",dc_type:"discount",dc:80},2:{dishid:40,dishname:"栗子蛋糕",dishname2:"Chestnut Cake",dishpic:"http://static.brae.co/images/dish/5kir1umk5tlu2wtcdck7nz49vhqqf3ck.png",defaultprice:17,tag:null,dc_type:"sale",dc:2},categoryid:10,categoryname:"蛋糕 你"},{0:{0:{0:{id:39,name:"港式",price:1},1:{id:40,name:"鸳鸯",price:3},2:{id:38,name:"经典",price:18},groupid:18,groupname:"主题"},1:{0:{id:33,name:"冷",price:16},1:{id:34,name:"热",price:19},groupid:16,groupname:"温度"},dishid:29,dishname:"主题奶茶",dishname2:"Theme milk tea",dishpic:"http://static.brae.co/images/dish/bqm3y6xclneemzuncr226hbmohjxcbco.png",defaultprice:13,tag:null,dc_type:"half"},1:{dishid:43,dishname:"经典奶茶",dishname2:"classic millk tea",dishpic:"http://static.brae.co/images/dish/vnncrcp8vkfkkvq8zqdmurjj0snza4e5.png",defaultprice:15,tag:null,dc_type:"none"},2:{dishid:62,dishname:"奶盖茶饮",dishname2:"milk tea",dishpic:"http://static.brae.co/images/dish/v7uvlqdwe0b4c2oofybr0h6ctn8jblv6.png",defaultprice:9,tag:"呢呢呢",dc_type:"half"},categoryid:8,categoryname:"奶 "},{0:{0:{0:{id:27,name:"加冰",price:1},1:{id:26,name:"焦糖",price:2},groupid:13,groupname:"做法"},dishid:25,dishname:"拿铁",dishname2:"Latte",dishpic:"http://static.brae.co/images/dish/juhvz6fyznnajkcjk6t1okrhq2ij7ivq.png",defaultprice:20,tag:"热销",dc_type:"sale",dc:2},1:{0:{0:{id:110,name:"1",price:1},1:{id:109,name:"2",price:2},2:{id:111,name:"3",price:2},groupid:72,groupname:"属性组2"},1:{0:{id:25,name:"热",price:9},1:{id:23,name:"冰",price:15},groupid:12,groupname:"温度"},dishid:23,dishname:"艾晨斯特调",dishname2:"Actions Special Made",dishpic:"http://static.brae.co/images/dish/jp3o0x8xkaxy5y8pfui9hq137a0t4mto.png",defaultprice:13,tag:"hh",dc_type:"sale",dc:1},2:{dishid:27,dishname:"摩卡奇诺",dishname2:"Mochacino",dishpic:"http://static.brae.co/images/dish/pbjyz1lb1uvseigf55fe13p37e9dgd36.png",defaultprice:20,tag:null,dc_type:"none"},categoryid:7,categoryname:"美式咖啡"}],indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;return C=[util.addListener,util.removeListener,util.hasClass,util.addClass,util.removeClass,util.ajax,util.getElementsByClassName,util.isPhone,util.hidePhone,util.query,util.querys,util.remove,util.append,util.prepend,util.toggleClass,util.getObjectURL,util.deepCopy,util.getById],j=C[0],F=C[1],u=C[2],i=C[3],E=C[4],k=C[5],s=C[6],y=C[7],w=C[8],A=C[9],B=C[10],D=C[11],l=C[12],z=C[13],H=C[14],t=C[15],q=C[16],r=C[17],o=b.body.clientWidth,n=b.documentElement.clientHeight,p=["","-webkit-","-moz-","-ms-","-o-"],g=void 0,d=function(){function a(){}var b;return b=A("#Menu-page .category-display-list"),a}(),c=function(){function a(){}var b,c,d,e,f,g;for(c=A(".Activity-information-field"),b=A("#activity-info-img-field",c),b.style.height=.9*o*167/343+"px",g=B("#Activity-container-column li"),e=0,f=g.length;f>e;e++)d=g[e],j(d,"click",function(){return v.pushHashStr("activityInfo")});return a}(),G=function(){function a(a){var b,c,d,e;for(this.displayUlDom=A(a.displayCSSSelector),this.chooseUlDom=A(a.chooseCSSSelector),this.delay=a.delay,e=B("img",this.displayUlDom),c=0,d=e.length;d>c;c++)b=e[c],b.style.height=a.scale*o+"px";this.init()}var b,c,d,e,f;return c=function(a,b){var c,d,e,f;for(f={},d=0,e=p.length;e>d;d++)c=p[d],f[c+"transform"]="translate("+a+", "+b+")";return f},b=function(a){var c,d;return d=a,d.autoFlag?(c=(d.currentChoose+1)%d.activityNum,d.setCurrentChooseAndTranslate(c)):d.autoFlag=!0,setTimeout(function(){return b(d)},d.delay)},f=function(a,b){return b.autoFlag=!1,b.startX=a.touches[0].clientX,b.startY=a.touches[0].clientY,b.currentX=a.touches[0].clientX,b.currentY=a.touches[0].clientY},e=function(a,b){return b.autoFlag=!1,b.currentX=a.touches[0].clientX,b.currentY=a.touches[0].clientY,a.preventDefault(),a.stopPropagation()},d=function(a,b){var c,d,e,f,g,h,i;return b.autoFlag=!1,e=b.currentX,f=b.currentY,g=b.startX,h=b.startY,Math.abs(f-h)>=Math.abs(e-g)?void 0:(d=b.currentChoose,c=b.activityNum,g>e?i=(d+1)%c:e>g&&(i=(d-1+c)%c),b.setCurrentChooseAndTranslate(i))},a.prototype.init=function(){return this.initDisplay(),this.initChoose(),this.initAutoRotate(),this.initTouchEvent()},a.prototype.initDisplay=function(){var a,b,c,d;for(this.displayContainerDom=this.displayUlDom.parentNode,this.displayContainerDom.style.overflowX="auto",this.allDisplayDom=B("li",this.displayUlDom),d=this.allDisplayDom,b=0,c=d.length;c>b;b++)a=d[b],a.style.width=o+"px";return this.activityNum=this.allDisplayDom.length,this.displayUlDom.style.width=o*this.activityNum+"px"},a.prototype.initChoose=function(){var a,b,c,d,e,f,g;for(this.chooseUlDom.parentNode.style.overflow="hidden",g=this,this.allChooseDom=B("li",this.chooseUlDom),this.currentChoose=0,e=this.allChooseDom,f=[],b=c=0,d=e.length;d>c;b=++c)a=e[b],f.push(j(a,"click",function(a){return function(b){return b.preventDefault(),b.stopPropagation(),g.autoFlag=!1,g.setCurrentChooseAndTranslate(a)}}(b)));return f},a.prototype.initAutoRotate=function(){var a;return a=this,this.autoFlag=!0,setTimeout(function(){return b(a)},a.delay)},a.prototype.initTouchEvent=function(){var a;return a=this,j(this.displayContainerDom,"touchstart",function(b){return f(b,a)}),j(this.displayContainerDom,"touchmove",function(b){return e(b,a)}),j(this.displayContainerDom,"touchend",function(b){return d(b,a)})},a.prototype.setCurrentChoose=function(a){return this.allChooseDom[this.currentChoose].className="inactive",this.allChooseDom[a].className="active",this.currentChoose=a},a.prototype.setCurrentChooseAndTranslate=function(a){var b,d,e,f;if(!(0>a||a>=this.activityNum||a===this.currentChoose)){e=-1*a,b=c(e*o+"px",0);for(d in b)f=b[d],this.displayUlDom.style[d]=f;return this.setCurrentChoose(a)}},a}(),h=function(){var a,b,c,d,e;for(a=B(".category-display-list"),e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(j(b,"click",function(){return v.hashJump("-Detail-Book")}));return e}(),e=function(){var a,b;return b=r("Recharge-func"),j(b,"click",function(){return v.pushHashStr("Extra-extraContent-Recharge")}),a=r("recharge-confirm-column"),j(a,"click",function(){return v.pushHashStr("choosePaymentMethod")})}(),v=function(){var b,c,d,e,f,g,h,k,l,m,n,o,p,q,s,t,u,v,w,x,y,z,C,D,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;return b=function(){var a,b,c,d;return b="",a=B("#nav-field .bottom-field div"),d=function(){var b,c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)b=a[d],c=b.id,b.className=c+"-unchecked",f.push(I(c+"-page"));return f},c=function(a){return b=a,d(),r(a).className=a+"-checked",O(a+"-page")},{bottomTouchEventTrigger:c,uncheckAllForBottomAndHideTarget:d}}(),c=function(){var a;return a=A("#Menu-page .activity-wrapper"),j(a,"click",function(){return T("-Detail-Activity")})}(),t=r("#extra"),n=B(".main-page"),o=B(".main-home-page"),l=B(".main-detail-page"),g=B(".extra-page"),h=B(".extra-form-page"),e=B(".extra-content-page"),d=A(".Activity-information-field"),q=["activityInfo"],N={Activity:["activityInfo"]},p=["Menu-page","Already-page","Individual-page"],m=["Book-page","Activity-page"],k=["login-page","book-choose-page","remark-for-trolley-page","alert-page","confirm-page"],f=["Recharge-page","Choose-payment-method-page"],J=a.location,v={Home:{push:function(){return O("brae-home-page")},pop:function(){return C()}},Menu:{push:function(){return b.bottomTouchEventTrigger("Menu")},pop:b.uncheckAllForBottomAndHideTarget,title:"餐牌"},Already:{push:function(){return b.bottomTouchEventTrigger("Already")},pop:b.uncheckAllForBottomAndHideTarget,title:"已点订单"},Individual:{push:function(){return b.bottomTouchEventTrigger("Individual")},pop:b.uncheckAllForBottomAndHideTarget,title:"个人信息"},Detail:{push:function(){return O("brae-detail-page")},pop:function(){return C()}},Book:{push:function(){return O("Book-page")},pop:function(){return I("Book-page")}},Activity:{push:function(){return O("Activity-page")},pop:function(){return I("Activity-page")}},activityInfo:{push:function(){return R("activityInfo","Activity",d)},pop:function(){return H(d)}},Extra:{push:function(){return O("extra")},pop:function(){return I("extra")}},extraContent:{push:function(){return O("brae-payment-page")},pop:function(){return I("brae-payment-page")}},Recharge:{push:function(){return O("Recharge-page")},pop:function(){return I("Recharge-page")}},choosePaymentMethod:{push:function(){return O("Choose-payment-method-page")},pop:function(){return I("Choose-payment-method-page")}},x:{push:function(){return setTimeout(function(){return U("x")},0)},pop:function(){return setTimeout(function(){return U("x")},0)}}},j(a,"popstate",function(){return L(u())}),S=util.query("title"),M=J.hash.replace("#",""),P=function(a){return setTimeout(function(){return O("extra")},0),indexOf.call(f,a)>=0?(setTimeout(function(){return O("brae-payment-page")},50),setTimeout(function(){return s(a,"hide")},100)):indexOf.call(k,a)>=0?O("brae-form-page"):void 0},z=function(){var a,b,c,d;for(d=[],b=0,c=g.length;c>b;b++)a=g[b],d.push(i(a,"hide"));return d},y=function(){var a,b,c,d;for(d=[],b=0,c=h.length;c>b;b++)a=h[b],d.push(i(a,"hide"));return d},x=function(){var a,b,c,d;for(d=[],b=0,c=e.length;c>b;b++)a=e[b],d.push(i(a,"hide"));return d},w=function(a){return y(),x(),z(),I("extra")},Q=function(a){return C(),indexOf.call(p,a)>=0?O("brae-home-page"):indexOf.call(m,a)>=0&&O("brae-detail-page"),O(a),setTimeout("scrollTo(0, 0)",0)},R=function(a,b,c){return indexOf.call(N[b],a)>=0?E(c,"hide-right"):void 0},H=function(a){return i(a,"hide-right")},G=function(){var a,b,c,d;for(d=[],b=0,c=n.length;c>b;b++)a=n[b],d.push(i(a,"hide"));return d},F=function(){var a,b,c,d;for(d=[],b=0,c=o.length;c>b;b++)a=o[b],d.push(i(a,"hide"));return d},D=function(){var a,b,c,d;for(d=[],b=0,c=l.length;c>b;b++)a=l[b],d.push(i(a,"hide"));return d},C=function(){return F(),D(),G()},O=function(a){return E(r(a),"hide"),setTimeout("scrollTo(0, 0)",0)},s=function(a,b){return E(r(a),b),setTimeout("scrollTo(0, 0)",0)},I=function(a,b){var c;return c=r(a),b?i(c,b):i(c,"hide"),setTimeout("scrollTo(0, 0)",0)},u=function(){return J.hash.replace("#","")},K=function(a){return S.innerHTML=a},L=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,w,x;if(f=a.split("-"),!(f.length<=1&&""===f[0])){if(r=M.split("-"),f.splice(0,1),r.splice(0,1),k=f[f.length-1],a!==M){for(x={},i=0,m=r.length;m>i;i++)e=r[i],e&&(x[e]=1);for(j=0,n=f.length;n>j;j++)e=f[j],e&&(x[e]?x[e]++:x[e]=1);for(g=o=s=r.length-1;0>=s?0>=o:o>=0;g=0>=s?++o:--o)r[g]&&v[r[g]]&&1===x[r[g]]&&"function"==typeof(b=v[r[g]]).pop&&b.pop();for(g=p=0,t=f.length-1;t>=0?t>=p:p>=t;g=t>=0?++p:--p)if(f[g]&&v[f[g]]&&1===x[f[g]]){if(u=f[g],indexOf.call(q,u)>=0){w=f[g],indexOf.call(N[f[g-1]],w)>=0&&"function"==typeof(c=v[f[g]]).push&&c.push();continue}"function"==typeof(d=v[f[g]]).push&&d.push()}return M=a}for(g=h=0,l=f.length;l>h;g=++h)e=f[g],e&&v[e]&&setTimeout(function(){var a;return"function"==typeof(a=v[e]).push?a.push():void 0},100*g)}},V=function(a){return J.hash=M+"-"+a},U=function(a){return J.hash=M.replace("-"+a,"")},T=function(a){return J.hash=a},{ahead:function(){return history.go(1)},back:function(){return history.go(-1)},refresh:function(){return J.reload()},pushHashStr:V,popHashStr:U,hashJump:T,HomeBottom:b,_switchExtraPage:P}}(),f=function(){var c,d;return d=a.localStorage,c=b.documentElement,d||(c.type.behavior="url(#default#userData)"),{set:function(a,b,e){return d?d.setItem(a,b,e):(c.setAttribute(a,value),c.save(e||"default"))},get:function(a,b){return d?d.getItem(a,b):(c.load(b||"default"),c.getAttribute(a)||"")},rm:function(a,b){return d?d.removeItem(a,b):(b=b||"default",c.load(b),c.removeAttribute(a),c.save(b))},clear:function(){return d?d.clear():c.expires=-1}}}(),m=function(a){var b,c;return b=this,"undefined"!=typeof wx?(c=!1,wx.config({debug:!1,appId:""+a.appid,timestamp:a.timestamp,nonceStr:""+a.noncestr,signature:""+a.signature,jsApiList:["chooseWXPay"]}),wx.ready(function(){return c?void 0:wx.chooseWXPay({timestamp:a.timestamp,nonceStr:""+a.noncestr,"package":""+a["package"],signType:"MD5",paySign:""+a.signMD,success:function(b){return"function"==typeof a.always&&a.always(),"chooseWXPay:ok"===b.errMsg?(x("success"),"function"==typeof a.callback?a.callback():void 0):x("fail",error("wx_result_fail",b.errMsg))},cancel:function(b){return"function"==typeof a.always&&a.always(),x("cancel")},fail:function(b){return"function"==typeof a.always&&a.always(),x("fail",error("wx_config_fail",b.errMsg))}})}),wx.error(function(b){return"function"==typeof a.always&&a.always(),c=!0,x("fail",error("wx_config_error",b.errMsg))})):void 0},x=function(a,b){return"function"==typeof this._resultCallback?("undefined"==typeof b&&(b=this._error()),this._resultCallback(a,b)):void 0},a.onload=function(){return v.hashJump("-Home"),setTimeout(function(){return v.pushHashStr("Menu"),setTimeout(function(){return v.pushHashStr("x"),setTimeout(function(){return v.hashJump("-Detail-Book")},100)},100)},100),new G({displayCSSSelector:"#Menu-page .activity-display-list",chooseCSSSelector:"#Menu-page .choose-dot-list",scale:110/377,delay:3e3}),new G({displayCSSSelector:"#Activity-page .header-display-list",chooseCSSSelector:"#Activity-page .choose-dot-list",scale:200/375,delay:3e3})}}(window,document);